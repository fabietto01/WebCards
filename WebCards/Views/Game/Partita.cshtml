@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model WebCards.Models.ViewModel

@{
    ViewData["Title"] = "partita";
    var player = ViewData["player"] as Giocatori;
    var partita = ViewData["partita"] as Partite;
    var player_aversari = ViewData["player_aversari"] as List<Giocatori>;
}


<div class="text-center">
    <div id="play-aversari">
        @foreach (var item in player_aversari)
        {
        <div id="player-@item.Nome"; align="center">
            <div class="right">
                <h1>@item.Nome</h1>
                <div id="carte_player">

                    <p4>Mano giocatore</p4>
                    @foreach (var carta in item.Manos)
                    {
                        @Html.Display("Carta coperta |")
                    }
                </div>


                <div id="carta_scoperte">

                    @try
                    {
                        <p>(@item.MazzoPersonales.Count() Carte nel mazzetto)</p>
                        <p>@item.MazzoPersonales.Last().Carta.Valore/@item.MazzoPersonales.Last().Carta.Seme</p>
                    }
                    catch (InvalidOperationException)
                    {
                    }
                </div>
            </div>
        </div>
        }
    </div>



    <div id="player-@player.Nome">
        <div class="left">

            <h1>@player.Nome</h1>
            <div id="carte_player">
                <p>
                    @foreach (var carta in player.Manos)
                    {
                    <p>@carta.ToString() - </p>
                    }
                </p>
            </div>
            <div id="carta_scoperte">
                @try
                {
                    <p>hai @player.MazzoPersonales.Count() carte nel mazzo</p>
                    <p>@player.MazzoPersonales.Last().Carta.Valore/@player.MazzoPersonales.Last().Carta.Seme</p>
                }
                catch (InvalidOperationException)
                {
                }
            </div>
        </div>
        

        </div>  
            @Html.EditorFor(m=>m.DrawPlayerDeckModel, null, "", null)
            @Html.EditorFor(m=>m.DrawTableCardModel,  null, "", null)
            @Html.EditorFor(m=>m.DiscardModel,  null, "", null)
        </div>
    </div>
</div>

